<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Do you love me?</title>
  <style>
    :root{--bg:#0f172a;--card:#111827;--accent:#ef4444;--muted:#9ca3af}
    *{box-sizing:border-box;font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#081028 0%, #0b1220 100%);color:#fff}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));width:100%;max-width:520px;border-radius:16px;padding:28px;box-shadow:0 10px 30px rgba(2,6,23,0.6);text-align:center}
    h1{margin:0 0 8px;font-size:28px}
    p.lead{margin:0 0 20px;color:var(--muted)}
    .buttons{display:flex;gap:12px;justify-content:center}
    button{padding:12px 20px;border-radius:10px;border:0;font-weight:600;cursor:pointer;font-size:16px}
    .yes{background:linear-gradient(90deg,#10b981,#06b6d4);color:#062023}
    .no{background:transparent;border:2px solid rgba(255,255,255,0.08);color:#fff}
    .hidden{display:none}
    .small{font-size:13px;color:var(--muted);margin-top:12px}
    .retry-msg{margin-top:18px;color:#fca5a5}
    .confetti{position:fixed;left:0;top:0;right:0;bottom:0;pointer-events:none}
    footer{margin-top:18px;color:var(--muted);font-size:13px}
    /* fun cheeky styles */
    .heart{display:inline-block;margin-left:6px;color:var(--accent);transform:translateY(1px)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="main">
      <h1>Hey ‚Äî quick question</h1>
      <p class="lead">Do you love me? <span class="heart">‚ù§</span></p>

      <div id="questionArea">
        <div class="buttons">
          <button id="yesBtn" class="yes">Yes, of course!</button>
          <button id="noBtn" class="no">No</button>
        </div>
        <p class="small">(Pick one ‚Äî if you pick "No" I'll ask again until you change your mind.)</p>
      </div>

      <div id="resultArea" class="hidden">
        <p id="resultText"></p>
        <div id="againButtons" class="buttons hidden">
          <button id="tryAgainBtn" class="no">Try again</button>
        </div>
      </div>

      <p id="retryMsg" class="retry-msg hidden">Aw, come on ‚Äî please answer honestly! üíå</p>

      <footer>Made with ‚ù§Ô∏è ‚Äî press "Yes" to stop the loop.</footer>
    </div>
  </div>

  <canvas id="confetti" class="confetti hidden"></canvas>

  <script>
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const retryMsg = document.getElementById('retryMsg');
    const resultArea = document.getElementById('resultArea');
    const resultText = document.getElementById('resultText');
    const questionArea = document.getElementById('questionArea');
    const tryAgainBtn = document.getElementById('tryAgainBtn');
    const againButtons = document.getElementById('againButtons');
    const confetti = document.getElementById('confetti');

    // When Yes is clicked ‚Äî show a cute celebration and stop asking
    yesBtn.addEventListener('click', () => {
      questionArea.classList.add('hidden');
      retryMsg.classList.add('hidden');
      resultArea.classList.remove('hidden');
      resultText.innerHTML = "Yay! I love you too. üíñ You're the best.";
      againButtons.classList.add('hidden');
      launchConfetti();
    });

    // When No is clicked ‚Äî gently ask again until Yes
    noBtn.addEventListener('click', () => {
      // show a message and then re-enable the question after a short playful pause
      retryMsg.classList.remove('hidden');
      // briefly hide buttons to make it feel like a retry
      questionArea.querySelector('.buttons').classList.add('hidden');

      // After 1.2s, show a playful modal that forces the question again
      setTimeout(() => {
        // make sure the question area returns so she can answer again
        questionArea.querySelector('.buttons').classList.remove('hidden');
        // small wiggle animation (CSS-free) to draw attention
        shake(questionArea);
      }, 1200);
    });

    // Try again button (in case you want an explicit control)
    tryAgainBtn.addEventListener('click', () => {
      retryMsg.classList.remove('hidden');
      questionArea.classList.remove('hidden');
    });

    // small helper to shake an element
    function shake(el){
      const keyframes = [
        {transform: 'translateX(0px)'},
        {transform: 'translateX(-8px)'},
        {transform: 'translateX(8px)'},
        {transform: 'translateX(-6px)'},
        {transform: 'translateX(6px)'},
        {transform: 'translateX(0px)'}
      ];
      el.animate(keyframes, {duration: 600, iterations: 1});
    }

    // Confetti (lightweight) ‚Äî only runs on Yes
    function launchConfetti(){
      try{
        confetti.classList.remove('hidden');
        const c = confetti;
        c.width = window.innerWidth; c.height = window.innerHeight;
        const ctx = c.getContext('2d');
        const pieces = [];
        for(let i=0;i<120;i++){
          pieces.push({x: Math.random()*c.width, y: Math.random()*-c.height, r: Math.random()*6+4, d: Math.random()*4+2, s: Math.random()*0.05+0.02});
        }
        let t=0;
        function draw(){
          ctx.clearRect(0,0,c.width,c.height);
          pieces.forEach(p=>{
            ctx.beginPath();
            ctx.fillStyle = `hsl(${(p.x+p.y+t*20)%360} 80% 60%)`;
            ctx.fillRect(p.x, p.y, p.r, p.r*0.6);
            p.x += Math.sin(t+p.d)*2;
            p.y += p.s*6 + 1;
            if(p.y>c.height+20){p.y = -20; p.x = Math.random()*c.width}
          });
          t += 0.02;
          if(t<10) requestAnimationFrame(draw);
          else { confetti.classList.add('hidden'); ctx.clearRect(0,0,c.width,c.height); }
        }
        draw();
      }catch(e){console.log('confetti error',e)}
    }

    // Accessibility: allow keyboard responses
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'y' || e.key === 'Y') yesBtn.click();
      if(e.key === 'n' || e.key === 'N') noBtn.click();
    });

    // Optional: Make the "No" button cheekily hard to click by moving it occasionally
    // (comment out if you find it mean!)
    let moveNo = false;
    noBtn.addEventListener('mouseenter', () => {
      if(!moveNo){
        noBtn.style.transform = 'translateY(-6px)';
        setTimeout(()=> noBtn.style.transform = '', 300);
      }
    });

  </script>
</body>
</html>
